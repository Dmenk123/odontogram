var save_method,table;function reload_table(){table.ajax.reload(null,!1)}function monitoring(t,a,e){$("#chart-report").html('<canvas id="line-chart" width="800" height="450"></canvas>'),url=base_url+"monitoring_honor/monitoring_chart",$.ajax({type:"POST",enctype:"multipart/form-data",url:url,data:{id_dokter:t,start:a,end:e},dataType:"JSON",timeout:6e5,success:function(t){t.status&&(console.log("berhasil"),new Chart(document.getElementById("line-chart"),{type:"bar",data:{labels:t.label,datasets:t.datasets},options:{title:{display:!0,text:t.judul},responsive:!0,responsiveAnimationDuration:0,scales:{yAxes:[{ticks:{beginAtZero:!1,callback:function(t,a,e){return 1e3<=parseInt(t)?"Rp "+t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"Rp "+t},max:t.v_max+5e5,min:0}}]}}}))},error:function(t){console.log("ERROR : ",t)}})}$(document).ready(function(){$("input.numberinput").bind("keypress",function(t){return 8==t.which||0==t.which||!(t.which<48||57<t.which)||46==t.which}),$("#filters").click(function(){var t=$("#id_dokter").val(),a=$("#start").val(),e=$("#end").val();if(a&&e){var r=a.split("/"),n=new Date(r[2],r[1]-1,r[0]),r=e.split("/");if(new Date(r[2],r[1]-1,r[0])<n)return void Swal.fire("Tanggal Mulai dilarang melebihi tanggal akhir")}else if(!t)return void Swal.fire("Silahkan memilih dokter terlebih dahulu");monitoring(t,a,e),""!=t&&(table=$("#tabeldata").DataTable({responsive:!0,searchDelay:500,processing:!0,serverSide:!1,bDestroy:!0,ajax:{url:base_url+"monitoring_honor/datatable_monitoring",type:"POST",data:{id_dokter:t,start:a,end:e}},columnDefs:[{targets:[-1],orderable:!1},{targets:5,className:"text-right"}]}))})});const detail_trans=t=>{$.ajax({url:base_url+"pembayaran/detail_pembayaran/true",type:"POST",dataType:"JSON",data:{enc_id:t},success:function(t){$("#klinik_det").text(t.old_data.nama_klinik),$("#no_reg_det").text(t.old_data.no_reg),$("#tgl_reg_det").text(moment(t.old_data.tanggal,"YYYY-MM-DD").format("DD-MM-YYYY")),$("#user_det").text(t.old_data.username),$("#pasien_det").text(t.old_data.nama),$("#rm_det").text(t.old_data.no_rm),$("#jenis_det").text(t.old_data.jenis_bayar),$("#kredit_det").text(t.old_data.nama_kredit),$("tbody#rincian_det").html(t.html_rinci),$("#modal_detail").modal("show"),$("#modal_title_det").text("Detail Pembayaran")},error:function(t,a,e){alert("Error get data from ajax")}})};