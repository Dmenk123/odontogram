function reloadFormLogistik(){$("#CssLoader").removeClass("hidden"),$.ajax({type:"post",url:base_url+"rekam_medik/load_form_logistik",data:{id_peg:id_peg,id_psn:id_psn,id_reg:id_reg},dataType:"json",success:function(a){$("#CssLoader").addClass("hidden"),$("#tabel_modal_logistik tbody").html(a.html)}})}function simpanHeader(){$("#btnSaveHeader").prop("disabled",!0),$("#btnSaveHeader").text("Menyimpan Data ....");let e=$("#ket_resep").val();swalConfirm.fire({title:"Perhatian",text:"Apakah Anda ingin Menyimpan Keterangan Resep ?",type:"warning",showCancelButton:!0,confirmButtonText:"Ya !",cancelButtonText:"Tidak !",reverseButtons:!1}).then(a=>{a.value?$.ajax({type:"POST",enctype:"multipart/form-data",url:base_url+"rekam_medik/simpan_keterangan_resep",data:{id_peg:id_peg,id_psn:id_psn,id_reg:id_reg,keteranganResep:e},dataType:"JSON",success:function(a){a.status&&swalConfirm.fire("Berhasil Menambah Data!",a.pesan,"success").then(a=>{a.value&&reloadFormLogistik()}),$("#btnSaveHeader").prop("disabled",!1),$("#btnSaveHeader").text("Simpan")},error:function(a){console.log("ERROR : ",a),createAlert("Opps!","Terjadi Kesalahan","Coba Lagi nanti","danger",!0,!1,"pageMessages"),$("#btnSaveHeader").prop("disabled",!1),$("#btnSaveHeader").text("Simpan")}}):a.dismiss===Swal.DismissReason.cancel&&(swalConfirm.fire("Dibatalkan","Aksi Dibatalakan","error"),$("#btnSaveHeader").prop("disabled",!1),$("#btnSaveHeader").text("Simpan"))})}function hapus_logistik_det(e){swalConfirmDelete.fire({title:"Hapus Data logistik ?",text:"Data Akan dihapus ?",type:"warning",showCancelButton:!0,confirmButtonText:"Ya, Hapus Data !",cancelButtonText:"Tidak, Batalkan!",reverseButtons:!0}).then(a=>{a.value?$.ajax({url:base_url+"rekam_medik/delete_data_logistik_det",type:"POST",dataType:"JSON",data:{id:e},success:function(a){swalConfirm.fire("Berhasil Hapus Data!",a.pesan,"success"),reloadFormLogistik()},error:function(a,e,t){Swal.fire("Terjadi Kesalahan")}}):a.dismiss===Swal.DismissReason.cancel&&swalConfirm.fire("Dibatalkan","Aksi Dibatalakan","error")})}$(document).ready(function(){$("#logistik").select2({tokenSeparators:[","," "],minimumInputLength:0,minimumResultsForSearch:5,ajax:{url:base_url+"master_logistik/get_select_logistik",dataType:"json",type:"GET",data:function(a){return{term:a.term}},processResults:function(a){return{results:$.map(a,function(a){return{text:a.text,id:a.id,kode:a.kode,nama:a.nama,id_jenis_logistik:a.id_jenis_logistik,harga_jual_raw:a.harga_jual_raw}})}}}}),$("#logistik").on("select2:selecting",function(a){a=a.params.args.data;$("#form_logistik input[name='harga_jual_raw']").val(a.harga_jual_raw)})});