const hostName=window.location.origin,pecah=window.location.pathname.split("/");var base_url;base_url="http://localhost"==hostName?hostName+"/"+pecah[1]+"/":hostName+"/";var KTAppOptions={colors:{state:{brand:"#5d78ff",dark:"#282a3c",light:"#ffffff",primary:"#5867dd",success:"#34bfa3",info:"#36a3f7",warning:"#ffb822",danger:"#fd3995"},base:{label:["#c5cbe3","#a1a8c3","#3d4465","#3e4466"],shape:["#f0f3ff","#d9dffa","#afb4d4","#646c9a"]}}};const swalConfirm=Swal.mixin({customClass:{confirmButton:"btn btn-md btn-primary",cancelButton:"btn btn-md btn-danger"},buttonsStyling:!1}),swalConfirmDelete=Swal.mixin({customClass:{confirmButton:"btn btn-md btn-danger",cancelButton:"btn btn-md btn-primary"},buttonsStyling:!1});function to_upper(e){var t=e.value;e.value=t.toUpperCase()}const jamSistem=()=>{0!=detik&&detik%60==0&&(menit++,detik=0),second=Number(detik),0!=menit&&menit%60==0&&(jam++,menit=0),minute=Number(menit),0!=jam&&jam%24==0&&(jam=0),hour=Number(jam),detik<10&&(second="0"+detik),menit<10&&(minute="0"+menit),jam<10&&(hour="0"+jam),waktu=hour+":"+minute+":"+second,detik++},reInitInputMask=()=>{$(".inputmask").inputmask({prefix:"",groupSeparator:".",radixPoint:",",alias:"currency",placeholder:"0",autoGroup:!0,digits:0,digitsOptional:!1,clearMaskOnLostFocus:!1,inputmode:"numeric",onBeforeMask:function(e,t){return e}})},formatMoney=e=>{return e.toLocaleString("id-ID",{minimumFractionDigits:0})},showProfileUser=e=>{$.ajax({url:base_url+"master_user/edit_user",type:"POST",dataType:"JSON",data:{id:e},success:function(e){$('#form_user_profile input[name="id_user_profile"]').val(e.old_data.id),$('#form_user_profile input[name="p_pegawai"]').val(e.old_data.nama_pegawai),$('#form_user_profile input[name="p_username"]').val(e.old_data.username),$("#modal_profile_user").modal("show")},error:function(e,t,a){alert("Error get data from ajax")}})},updateProfileUser=()=>{var e=$("#form_user_profile")[0],e=new FormData(e);$("#btnSaveProfileUser").prop("disabled",!0),$("#btnSaveProfileUser").text("Menyimpan Data"),$.ajax({type:"POST",enctype:"multipart/form-data",url:base_url+"master_user/update_data_profile",data:e,dataType:"JSON",processData:!1,contentType:!1,cache:!1,timeout:6e5,success:function(e){if(e.status)swalConfirm.fire("Sukses",e.pesan,"success").then(e=>{e.value&&window.location.reload()});else{for(var t=0;t<e.inputerror.length;t++)"pegawai"!=e.inputerror[t]?($('[name="'+e.inputerror[t]+'"]').addClass("is-invalid"),$('[name="'+e.inputerror[t]+'"]').next().text(e.error_string[t]).addClass("invalid-feedback")):$('[name="'+e.inputerror[t]+'"]').next().next().text(e.error_string[t]).addClass("invalid-feedback-select");$("#btnSaveProfileUser").prop("disabled",!1),$("#btnSaveProfileUser").text("Simpan")}},error:function(e){console.log("ERROR : ",e),$("#btnSaveProfileUser").prop("disabled",!1),$("#btnSaveProfileUser").text("Update Password"),reset_modal_form(),$(".modal").modal("hide")}})};$(document).ready(function(){toastr.options={closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},moment.locale("id"),$(".mask_money").mask("000.000.000.000.000",{reverse:!0}),$(".inputmask").inputmask({prefix:"",groupSeparator:".",radixPoint:",",alias:"currency",placeholder:"0",autoGroup:!0,digits:0,digitsOptional:!1,clearMaskOnLostFocus:!1,inputmode:"numeric",onBeforeMask:function(e,t){return e}}),$(".select2").select2({allowClear:!0,placeholder:"Mohon Pilih Salah Satu"}),$(".kt_datepicker").datepicker({rtl:KTUtil.isRTL(),todayHighlight:!0,format:"dd/mm/yyyy",autoclose:!0,orientation:"bottom left",templates:{leftArrow:'<i class="la la-angle-left"></i>',rightArrow:'<i class="la la-angle-right"></i>'}}),$("input.numberinput").bind("keypress",function(e){return 8==e.which||0==e.which||!(e.which<48||57<e.which)||46==e.which})});