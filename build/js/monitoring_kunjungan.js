var save_method,table;function reload_table(){table.ajax.reload(null,!1)}function monitoring(a,t){$("#chart-report").html('<canvas id="line-chart" width="800" height="450"></canvas>'),url=base_url+"monitoring_kunjungan/monitoring_chart",$.ajax({type:"POST",enctype:"multipart/form-data",url:url,data:{start:a,end:t},dataType:"JSON",timeout:6e5,success:function(a){a.status&&(console.log("berhasil"),new Chart(document.getElementById("line-chart"),{type:"bar",data:{labels:a.label,datasets:a.datasets},options:{title:{display:!0,text:a.judul},responsive:!0,responsiveAnimationDuration:0,scales:{yAxes:[{ticks:{beginAtZero:!1,max:a.v_max+5,min:0}}]}}}))},error:function(a){console.log("ERROR : ",a)}})}$(document).ready(function(){$("input.numberinput").bind("keypress",function(a){return 8==a.which||0==a.which||!(a.which<48||57<a.which)||46==a.which}),$("#filters").click(function(){var a=$("#start").val(),t=$("#end").val();if(a&&t){var e=a.split("/"),n=new Date(e[2],e[1]-1,e[0]),e=t.split("/");if(new Date(e[2],e[1]-1,e[0])<n)return void Swal.fire("Tanggal Mulai dilarang melebihi tanggal akhir")}monitoring(a,t),table=$("#tabeldata").DataTable({responsive:!0,searchDelay:500,processing:!0,serverSide:!1,bDestroy:!0,ajax:{url:base_url+"monitoring_kunjungan/datatable_monitoring",type:"POST",data:{start:a,end:t}},columnDefs:[{targets:[-1],orderable:!1},{targets:5,className:"text-right"}]}),$("#div-tabel-area").css("display","block")})});const detail_trans=a=>{$.ajax({url:base_url+"pembayaran/detail_pembayaran/true",type:"POST",dataType:"JSON",data:{enc_id:a},success:function(a){$("#klinik_det").text(a.old_data.nama_klinik),$("#no_reg_det").text(a.old_data.no_reg),$("#tgl_reg_det").text(moment(a.old_data.tanggal,"YYYY-MM-DD").format("DD-MM-YYYY")),$("#user_det").text(a.old_data.username),$("#pasien_det").text(a.old_data.nama),$("#rm_det").text(a.old_data.no_rm),$("#jenis_det").text(a.old_data.jenis_bayar),$("#kredit_det").text(a.old_data.nama_kredit),$("tbody#rincian_det").html(a.html_rinci),$("#modal_detail").modal("show"),$("#modal_title_det").text("Detail Pembayaran")},error:function(a,t,e){alert("Error get data from ajax")}})};